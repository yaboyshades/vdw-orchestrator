syntax = "proto3";

package reasoning;

option go_package = "github.com/yaboyshades/vdw-orchestrator/mangle/generated/reasoning";

// Reasoning service for deductive inference
service ReasoningService {
  // Apply reasoning rules to given facts
  rpc ApplyRules(ReasoningRequest) returns (ReasoningResponse);
  
  // Health check endpoint
  rpc HealthCheck(HealthCheckRequest) returns (HealthCheckResponse);
  
  // Load new reasoning rules
  rpc LoadRules(LoadRulesRequest) returns (LoadRulesResponse);
}

// Request for reasoning operation
message ReasoningRequest {
  repeated string facts = 1;
  repeated string rules = 2;
  string context = 3;
}

// Response from reasoning operation
message ReasoningResponse {
  repeated string conclusions = 1;
  repeated string applied_rules = 2;
  bool success = 3;
  string error_message = 4;
}

// Health check request
message HealthCheckRequest {}

// Health check response
message HealthCheckResponse {
  bool healthy = 1;
  string status = 2;
}

// Load rules request
message LoadRulesRequest {
  string rules_content = 1;
  string rules_format = 2; // "datalog", "prolog", etc.
}

// Load rules response
message LoadRulesResponse {
  bool success = 1;
  string error_message = 2;
  int32 rules_loaded = 3;
}